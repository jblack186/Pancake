<link rel="stylesheet" href="{{ 'header.css' | asset_url }}" media="print" onload="this.media='all'">

<noscript>{{ 'header.css' | asset_url | stylesheet_tag }}</noscript>
{%style%}
{%- if section.settings.positions -%}
#header-first.headers {
  position: sticky!important;
  height: {{section.settings.height}}px;
  width: 100%;
  top: 0px!important;
  left: 0px;
  z-index: 9;
  align-self: flex-start;

}

#countdown {
  margin-top: {{section.settings.height}}px;
  background: {{section.settings.countdown_background}};
  color: {{section.settings.countdown_color}};
}

#countdown h2{
  color: {{section.settings.countdown_color}};

}

{%endif%}



.headers-sticky {
  display: flex;
  position: fixed!important;
  width: 100%;
  top: 0px!important;
  left: 0px;
  z-index: 999;
  align-items: center;
  height: {{section.settings.height}}px;


}


.headers {
 height: {{section.settings.height}}px;

}

.hero-three__content h2 {
  font-size: {{section.settings.font_size}}}px;
}



{%endstyle%}

{% case section.settings.header_type %}
  {% when 'headerOne' %}


<div>
<header class="{%- if section.settings.positions -%} headers-sticky {%else%} headers {%endif%}"  style="background: {{section.settings.header__background}}">
  <ul class="header__list">
    <div class="header__list__left">
     
      {%- if link.links == blank -%}
        {%- for link in section.settings.menu.links -%}
          {%- if section.settings.menu != blank -%}
      <li class="header__list__left__item">
        <a style="color: {{section.settings.header__color}}" href="{{ link.url }}" class="{{section.settings.header_colors}}">{{ link.title | escape }}</a>
      </li>
      <ul class="collection-link__sub-links">
        {%- for childlink in link.links -%}
        <li><a href="{{ childlink.url }}">{{ childlink.title | escape }}</a></li>
        <ul>
        {%- for grandchildlink in childlink.links -%}
          <li class="collection-link__sub-links__sub-links">
            <a href="{{ grandchildlink.url }}"  >
              {{ grandchildlink.title | escape }}
            </a>
          </li>
        {%- endfor -%}
      </ul>
  
        {%- endfor -%}
      </ul>
    {%- endif -%}
  {%- endfor -%}
  {%- endif %}

      </div>
    
      <div class="header__list__mid">
        <a class="header__list__mid__logo">
          {%- if section.settings.logo != blank -%}
            {%- assign image_size = section.settings.logo_width | append: 'x' -%}
            <img srcset="{{ section.settings.logo | img_url: image_size }} 1x, {{ section.settings.logo | img_url: image_size, scale: 2 }} 2x"
              src="{{ section.settings.logo | img_url: image_size }}"
              loading="lazy"
              class="header__heading-logo"
              alt="{{ section.settings.logo.alt | default: shop.name | escape }}">
          {%- else -%}
            <span class="h2">{{ shop.name }}</span>
          {%- endif -%}
        </a>
    </div>
    <div class="header__list__right">
      <li class="header__list__right__item">
        <img class="header__list__right__item--search" src="{{ 'search.svg' | asset_url }}" alt="search" />
      </li>
      <li style="color: {{section.settings.header__color}}" class="header__list__right__item">
        Login
      </li>
      <li class="header__list__right__item">
      <img  class="header__list__right__item--bag" src="{{ 'bag.svg' | asset_url }}" alt="bag" />

      </li>
      </div>
   
  </ul>
  <div class="mobile">
    <div> </div>
    <img class="mobile__bars" src="{{ 'menu.svg' | asset_url }}" alt="Bars" />

  </div> 

</header>
{%- if section.settings.countdown -%}
<div id="countdown" class="countdown">
  <p class="countdown__heading">{{section.settings.countdown_text}}</p>
  <div class="countdown__content">
  <div class="time">
  <h2 id="days">00</h2>
  <small>Days</small>
</div>

<div class="time">
<h2 id="hours">00</h2>
<small>Hours</small>
</div>

<div class="time">
<h2 id="minutes">00</h2>
<small>Minutes</small>
</div>
<div class="time">
<h2 id="seconds">00</h2>
<small>Seconds</small>
</div>
</div>
<div class="countdown__button">
<a href="/collections">{{section.settings.countdown_button-text}}</a>
</div>
</div>
{%- endif -%}
</div>


    {% when 'headerTwo' %}
      <div class="{%- if section.settings.positions -%} headers-sticky{%else%} headers {%endif%}"  style="background: {{section.settings.header__background}}">
        <ul class="header__list">
        <div class="header__list__mid">
          <a class="header__list__mid__logo">
            {%- if section.settings.logo != blank -%}
              {%- assign image_size = section.settings.logo_width | append: 'x' -%}
              <img srcset="{{ section.settings.logo | img_url: image_size }} 1x, {{ section.settings.logo | img_url: image_size, scale: 2 }} 2x"
                src="{{ section.settings.logo | img_url: image_size }}"
                loading="lazy"
                class="header__heading-logo"
                alt="{{ section.settings.logo.alt | default: shop.name | escape }}">
            {%- else -%}
              <span class="h2">{{ shop.name }}</span>
            {%- endif -%}
          </a>
            </div>
          <div class="header__list__left">
     
            {%- if link.links == blank -%}
              {%- for link in section.settings.menu.links -%}
                {%- if section.settings.menu != blank -%}
            <li class="header__list__left__item ">
              <a style="color: {{section.settings.header__color}}" href="{{ link.url }}" class="{{section.settings.header_colors}}">{{ link.title | escape }}</a>
            </li>
          {%- endif -%}
        {%- endfor -%}
        {%- endif %}
      
            </div>
                <div class="header__list__right">
            <li class="header__list__right__item">
              <img class="header__list__right__item--search" src="{{ 'search.svg' | asset_url }}" alt="search" />
            </li>
            <li  style="color: {{section.settings.header__color}}" class="header__list__right__item">
              MY ACCOUNT
            </li>
            <li class="header__list__right__item">
            <img  class="header__list__right__item--bag" src="{{ 'bag.svg' | asset_url }}" alt="bag" />
  
            </li>
            </div>
  
        </ul>
        <div class="mobile">
          <div></div>
          <img class="mobile__bars" src="{{ 'menu.svg' | asset_url }}" alt="Bars" />
  
        </div>
      </div>
        
{% endcase %}


{% schema %}
{
  "name": "t:sections.header.name",

  "settings": [
  {
  "type": "select",
  "id": "header_type",
  "label": "Type Of Header",
  "options": [
  {
  "value": "headerOne",
  "label": "Header 1"
  },
  {
  "value": "headerTwo",
  "label": "Header 2"
  }
  ],
  "default": "headerOne"
  },
  {
    "type": "checkbox",
    "id": "positions",
    "label": "Sticky header",
    "default": false
  },

  {
    "type": "color",
    "id": "header__background",
    "label": "Header background",
    "default": "#ffffff"
  },
  {
    "type": "color",
    "id": "header__color",
    "label": "Header text color",
    "default": "#000000"
  },


  {
    "type": "range",
    "id": "height",
    "min": 60,
    "max": 120,
    "step": 1,
    "default": 70,
    "label": "Height"
    },
    {
      "type": "select",
      "id": "header_colors",
      "label": "Header color",
      "default": "header-color1",
      "options": [
        {
          "value": "header-color1",
          "label": "Header color 1"
        },
        {
          "value": "header-color2",
          "label": "Header color 2"
        },
        {
          "value": "header-color3",
          "label": "Header color 3"
        }

      ]
    },
  {
  "type": "image_picker",
  "id": "logo",
  "label": "t:sections.header.settings.logo.label"
  },
  {
  "type": "range",
  "id": "logo_width",
  "min": 50,
  "max": 250,
  "step": 10,
  "default": 100,
  "unit": "t:sections.header.settings.logo_width.unit",
  "label": "t:sections.header.settings.logo_width.label"
  },
  
  {
  "type": "link_list",
  "id": "menu",
  "default": "main-menu",
  "label": "t:sections.header.settings.menu.label"
  },
  {
  "type": "link_list",
  "id": "menu_two",
  "default": "main-menu",
  "label": "Alternate Menu"
  },
  {
    "type": "checkbox",
    "id": "countdown",
    "default": false,
    "label": "Countdown"
  
  },
    
  {
    "type": "select",
    "id": "month",
    "label": "Month",
    "options": [
      {
        "value": "January",
        "label": "January"
      },
      {
        "value": "February",
        "label": "February"
      },
      {
        "value": "March",
        "label": "March"
      },
      {
        "value": "September",
        "label": "September"
      },
      {
        "value": "October",
        "label": "October"
      }
    ]
    },
    {
      "type": "select",
      "id": "day",
      "label": "Day",
      "options": [
        {
          "value": "1",
          "label": "1"
        },
        {
          "value": "2",
          "label": "2"
        },
        {
          "value": "3",
          "label": "3"
        },
        {
          "value": "4",
          "label": "4"
        },
        {
          "value": "5",
          "label": "5"
        }
    
      ]
      },
      {
        "type": "select",
        "id": "year",
        "label": "Year",
        "options": [
          {
            "value": "2021",
            "label": "2021"
          },
          {
            "value": "2022",
            "label": "2022"
          },
          {
            "value": "2023",
            "label": "2023"
          }
      
        ]
        },
        {
          "type": "number",
          "id": "hours",
          "label": "Hours (max 24)"
         
  
          },
          {
            "type": "color",
            "id": "countdown_background",
            "label": "Countdown background",
            "default": "#8A2BE2"
           
    
            },
            {
              "type": "color",
              "id": "countdown_color",
              "label": "Countdown color",
              "default": "#ffffff"
             
      
              },
              {
                "type": "text",
                "id": "countdown_text",
                "label": "Countdown text",
                "default": "10% sale until Friday! Don't miss out."
               
        
                },
                {
                  "type": "text",
                  "id": "countdown_button-text",
                  "label": "Countdown button text",
                  "default": "Shop now"
                 
          
                  }
  
  ]
  }
{% endschema %}


<script>
  const days = document.getElementById('days');
  const hours = document.getElementById('hours');
  const minutes = document.getElementById('minutes');
  const seconds = document.getElementById('seconds');
  
  const currentYear = new Date().getFullYear();
  
  const saleDate = new Date(`{{section.settings.month}} {{section.settings.day}} {{section.settings.year}} {{section.settings.hours}}:00:00`);
  console.log("sale date", saleDate)
  // Update countdown time
  function updateCountdown() {
    const currentTime = new Date();
    const diff = saleDate - currentTime;
  
    const d = Math.floor(diff / 1000 / 60 / 60 / 24);
    const h = Math.floor(diff / 1000 / 60 / 60) % 24;
    const m = Math.floor(diff / 1000 / 60) % 60;
    const s = Math.floor(diff / 1000) % 60;
  
    days.innerHTML = d;
    hours.innerHTML = h < 10 ? '0' + h : h;
    minutes.innerHTML = m < 10 ? '0' + m : m;
    seconds.innerHTML = s < 10 ? '0' + s : s;
  }
  
  setInterval(updateCountdown, 1000);

  var parent = document.

</script>